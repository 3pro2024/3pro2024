# 手話ぷらプロジェクト - 大学生向け手話学習アプリ

## プロジェクトのコンテキスト

あなたは、大学生が手話を楽しく学べるアプリケーションを開発しています。方言手話も含むユニークな学習アプリで、ゲーム感覚で学習できるように設計されています。

## 作業ガイドライン

### コードスタイル

- TypeScriptを使用し、常に型安全性を保つ
- 2スペースでインデント
- シングルクォートとセミコロンを使用
- camelCaseで変数・関数名、PascalCaseで型名
- ファイル名はkebab-case

### コンポーネント開発

- 再利用可能なコンポーネントを`src/components/`に配置
- 各コンポーネントは独立したフォルダで管理
- TypeScriptで型定義を明確に行う

### データ管理

- `data/shuwa.json`から手話データを取得
- LocalStorageでユーザーの進捗や設定を保存
- 非同期処理でJSONデータを読み込み

### 動画処理

- YouTubeアップロードされた動画を埋め込みで表示
- `src/components/video/video-player.ts`を使用
- 動画の連続再生機能を実装

## 機能仕様

### メイン機能

1. **タイトル画面** (`src/pages/title/`)

   - 各モードへのナビゲーション
   - 実績通知の表示

2. **クイズモード** (`src/pages/quiz/`)

   - 4段階の難易度（初級・中級・上級・方言）
   - 10問セットの選択式問題
   - 動画視聴後の答え選択
   - 即座フィードバック表示

3. **学習モード** (`src/pages/learn/`)

   - カテゴリ・級・難易度での絞り込み
   - フリーテキスト検索
   - 単語詳細ページでの動画連続再生

4. **実績画面** (`src/pages/achieve/`)

   - 6種類の挑戦状ミッション
   - 指文字で表示される称号システム
   - スタッフロール表示

5. **遊び方画面** (`src/pages/explain/`)
   - アプリの使い方説明
   - 50音指文字一覧表

## 開発時の注意事項

### パフォーマンス最適化

- 検索機能ではデバウンス処理を実装
- 動画の遅延読み込みを検討
- LocalStorageのデータサイズを管理

### ユーザビリティ

- クイズ終了後の結果表示をわかりやすく
- ローディング状態を明確に表示
- エラーハンドリングを適切に実装

### アクセシビリティ

- キーボードナビゲーションをサポート
- 適切なaltテキストを設定
- コントラスト比を適切に保つ

### CSS相対単位ベストプラクティス

#### 基本原則

- **pxは原則使用禁止** - アクセシビリティとレスポンシブ対応のため
- **remを基本**とし、用途に応じて他の単位を併用
- ユーザーのフォントサイズ設定に対応したデザイン

#### 推奨単位の使い分け

```css
/* 1. rem (最推奨) - テキスト・余白・基本レイアウト */
font-size: 1.2rem;
padding: 1rem 2rem;
margin-bottom: 1.5rem;
max-width: 60rem;

/* 2. em (コンポーネント内) - 親要素に比例したサイズ */
padding: 0.5em 1em; /* ボタンなど */
line-height: 1.5em;

/* 3. % (レイアウト) - 親要素に対する比率 */
width: 100%;
max-width: 80%;

/* 4. vw/vh (画面サイズ対応) - フルスクリーンなど */
height: 100vh;
font-size: 4vw; /* 画面幅に応じたフォント */

/* 5. clamp() (柔軟性重視) - レスポンシブ対応 */
font-size: clamp(1rem, 4vw, 2rem);
width: clamp(20rem, 50%, 60rem);
```

#### 例外的なpx使用

- `border: 1px solid` - 細い境界線
- `box-shadow: 0 1px 3px` - 微細な影
- 開発ツールでの一時的なデバッグ用途のみ

## 重要なデータ型

```typescript
type ShuwaData = {
  id: number;
  name: string;
  how_to: string;
  youtube_url: string;
  example_sentence: string;
  quiz_level: "初級" | "中級" | "上級" | "方言";
  shuwa_rank: "5級" | "4級" | "3級" | "2級";
};
```

## テストと品質管理

- 新機能実装後は`pnpm lint`でコードチェック
- `pnpm build`でビルドエラーがないことを確認
- コミット前に`pnpm format`でコード整形
- 各ブラウザでの動作テストを実施
